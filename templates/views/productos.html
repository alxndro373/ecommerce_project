{% extends "index.html" %}
{% block content %}
<h2 class="mb-3">Categorias</h2>
<div class="">
  <div class="">
    Lista de Productos
  </div>
  <div class="">
    <table class="">
      <thead class="">
        <tr>
          <th>ID Producto</th>
          <th>Nombre</th>
          <th>Descripcion</th>
          <th>Precio</th>
          <th>ID Categoria</th>
          <th>Inventario</th>
          <th>Activo</th>
        </tr>
      </thead>
      <tbody>
      {% for p in productos %}
        <tr>
          <form action="{{ url_for('productos.editar', id=p._id) }}" method="POST">
            <td>{{ p.producto_id }}</td>
            <td><input type="text" name="nombre" value="{{ p.nombre }}" class="form-control"></td>
            <td><input type="text" name="descripcion" value="{{ p.descripcion }}" class="form-control"></td>
            <td><input type="number" name="precio" value="{{ p.precio }}" class="form-control"></td>
            <td><input type="number" name="categoria_id" value="{{ p.categoria_id }}" class="form-control"></td>
            <td><input type="number" name="inventario" value="{{ p.inventario }}" class="form-control"></td>
            <td>
              <select name="activo" class="form-select">
                <option value="1" {% if p.activo %}selected{% endif %}>Sí</option>
                <option value="0" {% if not p.activo %}selected{% endif %}>No</option>
              </select>
            </td>
            <td>
              <button type="submit" class="btn btn-success">Guardar</button>
              <a href="{{ url_for('productos.eliminar', id=p._id) }}" class="btn btn-danger"
                 onclick="return confirm('¿Seguro que deseas eliminar este producto?');">Eliminar</a>
            </td>
          </form>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}